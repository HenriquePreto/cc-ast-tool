{
    "functions": [
        {
            "id": "/Users/henriquepreto/Desktop/cc-ast-tool/scripts/benchmarks/redis/src/bitops.c#877:1#bitposCommand",
            "gotos": 2,
            "labels": 1,
            "body": "{\n    robj *o;\n    long long start, end;\n    long bit, strlen;\n    unsigned char *p;\n    char llbuf[21];\n    int isbit = 0, end_given = 0;\n    unsigned char first_byte_neg_mask = 0, last_byte_neg_mask = 0;\n    if (<recovery-expr>())\n        return;\n    if (bit != 0 && bit != 1) {\n        addReplyError(c, \"The bit argument must be 1 or 0.\");\n        return;\n    }\n    if (<recovery-expr>()) {\n        addReplyLongLong(c, bit ? -1 : 0);\n        return;\n    }\n    if (checkType(c, o, 0))\n        return;\n    p = getObjectReadOnlyString(o, &strlen, llbuf);\n    if (c->argc == 4 || c->argc == 5 || c->argc == 6) {\n        long long totlen = strlen;\n        if (<recovery-expr>())\n            return;\n        if (c->argc == 6) {\n            if (!strcasecmp(c->argv[5]->ptr, \"bit\"))\n                isbit = 1;\n            else if (!strcasecmp(c->argv[5]->ptr, \"byte\"))\n                isbit = 0;\n            else {\n                addReplyErrorObject(c, shared.syntaxerr);\n                return;\n            }\n        }\n        if (c->argc >= 5) {\n            if (<recovery-expr>())\n                return;\n            end_given = 1;\n        } else {\n            if (isbit)\n                end = (totlen << 3) + 7;\n            else\n                end = totlen - 1;\n        }\n        if (isbit)\n            totlen <<= 3;\n        if (start < 0)\n            start = totlen + start;\n        if (end < 0)\n            end = totlen + end;\n        if (start < 0)\n            start = 0;\n        if (end < 0)\n            end = 0;\n        if (end >= totlen)\n            end = totlen - 1;\n        if (isbit && start <= end) {\n            first_byte_neg_mask = ~((1 << (8 - (start & 7))) - 1) & 255;\n            last_byte_neg_mask = (1 << (7 - (end & 7))) - 1;\n            start >>= 3;\n            end >>= 3;\n        }\n    } else if (c->argc == 3) {\n        start = 0;\n        end = strlen - 1;\n    } else {\n        addReplyErrorObject(c, shared.syntaxerr);\n        return;\n    }\n    if (start > end) {\n        addReplyLongLong(c, -1);\n    } else {\n        long bytes = end - start + 1;\n        long long pos;\n        unsigned char tmpchar;\n        if (first_byte_neg_mask) {\n            if (bit)\n                tmpchar = p[start] & ~first_byte_neg_mask;\n            else\n                tmpchar = p[start] | first_byte_neg_mask;\n            if (last_byte_neg_mask && bytes == 1) {\n                if (bit)\n                    tmpchar = tmpchar & ~last_byte_neg_mask;\n                else\n                    tmpchar = tmpchar | last_byte_neg_mask;\n            }\n            pos = redisBitpos(&tmpchar, 1, bit);\n            if (bytes == 1 || (pos != -1 && pos != 8))\n                goto result;\n            start++;\n            bytes--;\n        }\n        long curbytes = bytes - (last_byte_neg_mask ? 1 : 0);\n        if (curbytes > 0) {\n            pos = redisBitpos(p + start, curbytes, bit);\n            if (bytes == curbytes || (pos != -1 && pos != (long long)curbytes << 3))\n                goto result;\n            start += curbytes;\n            bytes -= curbytes;\n        }\n        if (bit)\n            tmpchar = p[end] & ~last_byte_neg_mask;\n        else\n            tmpchar = p[end] | last_byte_neg_mask;\n        pos = redisBitpos(&tmpchar, 1, bit);\n      result:\n        if (end_given && bit == 0 && pos == (long long)bytes << 3) {\n            addReplyLongLong(c, -1);\n            return;\n        }\n        if (pos != -1)\n            pos += (long long)start << 3;\n        addReplyLongLong(c, pos);\n    }\n}\n"
        },
        {
            "id": "/Users/henriquepreto/Desktop/cc-ast-tool/scripts/benchmarks/redis/src/bitops.c#325:1#checkSignedBitfieldOverflow",
            "gotos": 2,
            "labels": 1,
            "body": "{\n    if (<recovery-expr>()) {\n        if (<recovery-expr>()) {\n            if (owtype == 0) {\n                goto handle_wrap;\n            } else if (owtype == 1) {\n            }\n        }\n        return 1;\n    } else if (<recovery-expr>()) {\n        if (<recovery-expr>()) {\n            if (owtype == 0) {\n                goto handle_wrap;\n            } else if (owtype == 1) {\n            }\n        }\n        return -1;\n    }\n    return 0;\n  handle_wrap:\n    {\n        if (<recovery-expr>() < 64) {\n            if (<recovery-expr>()) {\n            } else {\n            }\n        }\n    }\n    return 1;\n}\n"
        },
        {
            "id": "/Users/henriquepreto/Desktop/cc-ast-tool/scripts/benchmarks/redis/src/bitops.c#288:1#checkUnsignedBitfieldOverflow",
            "gotos": 2,
            "labels": 1,
            "body": "{\n    if (<recovery-expr>()) {\n        if (<recovery-expr>()) {\n            if (owtype == 0) {\n                goto handle_wrap;\n            } else if (owtype == 1) {\n            }\n        }\n        return 1;\n    } else if (<recovery-expr>()) {\n        if (<recovery-expr>()) {\n            if (owtype == 0) {\n                goto handle_wrap;\n            } else if (owtype == 1) {\n                *<recovery-expr>() = 0;\n            }\n        }\n        return -1;\n    }\n    return 0;\n  handle_wrap:\n    {\n    }\n    return 1;\n}\n"
        }
    ],
    "total": 71,
    "visited": 3
}
